<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="header" >
            <div class="poc">
                <span>ToDo List</span>
            </div>
        </div>
        <div class="tors">
            <div class="ort">
                <div class="name">
                    <p style="font-size: 30px;">ToDo List</p>
                </div>
                <div class="vvod">
                    <input id="znach" placeholder="New Task" style="width: 500px;border-radius: 4px;border-width: 1px;">
                    <button class="add" id="ele" >Add</button>
                    
                </div>
                <div>
                    <div class="fl" id="add_after_me">
                        
                    </div>
                </div>
            </div>
        </div>

        <script>
            let i=0;
            const btn = document.getElementById('ele');
            function appendHTML(){
                let a=document.getElementById("znach").value
                if (a==""){
                    alert("Zapolni pole!");
                    return;
                };
                const ele = document.getElementById('add_after_me');
                const newDiv = document.createElement('div');
                newDiv.innerHTML =  
                `
                        <div class="vnut" id="a${i}b">
                            <input type="checkbox" class="vc" id="a${i}" onclick="cit(this.id)">
                            <span class="popusk" id="a${i}a">
                                ${a}
                            </span>
                            <button class="vb" id="${i}" onclick="gfg(this.id);delCode()">
                                DEL
                            </button>
                        </div>
            `;
            i++;
            ele.appendChild(newDiv);
            }
            btn.addEventListener('click', appendHTML);
            let ud;
            function gfg(clicked) {
                ud=clicked
            }
            function delCode(){
                let b=document.getElementById("a"+ud+"b");
                b.remove();
                ud=null;
                i--;
            }
            function cit(boid){
                var box=document.getElementById(boid)
                elt=document.getElementById(boid+"a")
                if (box.checked){
                    let elt=document.getElementById(boid+"a")
                    elt.classList.add("cher")
                }
                else{
                    let elt=document.getElementById(boid+"a")
                    elt.classList.remove("cher")
                }
            }
        </script>
    </body>
</html>